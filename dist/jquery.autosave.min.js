var Autosave=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e){e.exports=JSON.parse('{"ru":{"The changes you have made may not be saved.":"Возможно, внесенные изменения не сохранятся."}}')},function(e,t,r){"use strict";r.r(t);var n=r(0),o="en";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}();var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"_setItem",value:function(t){var r=e._getFullItem(),n=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(t).closest("form").attr(e.DEFAULTS.formAttr),o=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(t).index(),a=!1,u=t.value;(function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e})().each(r,(function(e,t){t.id===n&&t.i===o&&(t.text=u,t.reset=!1,a=!0)})),a||r.push({id:n,i:o,text:u,reset:!1}),e.onPage=""!==u,window.localStorage.setItem(e.DEFAULTS.storageName,JSON.stringify(r))}},{key:"_getFullItem",value:function(){return JSON.parse(window.localStorage.getItem(e.DEFAULTS.storageName))||[]}},{key:"_getText",value:function(t,r){var n=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(t).closest("form").attr(e.DEFAULTS.formAttr),o=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(t).index(),a="";return function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}().each(this._getFullItem(),(function(e,t){t.id!==n||t.i!==o||(!r||!1!==t.reset)&&r||(a=t.text)})),a}},{key:"bind",value:function(t){if(90===t.keyCode&&t.ctrlKey){if(""!==this.value)return!0;this.value=e._getText(this,!1),e._setItem(this)}else t.ctrlKey||e._setItem(this)}},{key:"restore",value:function(){if(""===this.value){var t=e._getText(this,!0);this.value=t,e.onPage=""!==t}}},{key:"reset",value:function(){var t=e._getFullItem(),r=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(this).closest("form").attr(e.DEFAULTS.formAttr);(function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e})().each(t,(function(t,n){n.id===r&&(n.reset=!0,e.onPage=!1)})),window.localStorage.setItem(e.DEFAULTS.storageName,JSON.stringify(t))}},{key:"remove",value:function(t){var r=e._getFullItem(),n=!function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(t).attr(e.DEFAULTS.formAttr);(function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e})().each(r,(function(t,o){if(o&&o.id===n){var a=r.indexOf(o);a>-1&&r.splice(a,1),e.onPage=!1}})),window.localStorage.setItem(e.DEFAULTS.storageName,JSON.stringify(r))}},{key:"exitAjax",value:function(){return!(!e.onPage||confirm(e.DEFAULTS.msgExit)&&(e.onPage=!1,1))}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=u;u.DEFAULTS={storageName:"autosave",formClass:".autosave-form",formAttr:"data-autosave"},u.onPage=!1,function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(document).on("keyup",u.DEFAULTS.formClass+" textarea",u.bind),function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(document).on("reset",u.DEFAULTS.formClass,u.reset),function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()((function(){(function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e})()(u.DEFAULTS.formClass).has(":visible").find("textarea").each(u.restore)})),function(){var e=new Error("Cannot find module 'jquery'");throw e.code="MODULE_NOT_FOUND",e}()(window).on("beforeunload",(function(){if(u.onPage)return e="The changes you have made may not be saved.",n[o]&&n[o][e]||e;var e}))}]);